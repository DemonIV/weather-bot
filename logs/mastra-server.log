
> my-telegram-agent@1.0.0 dev
> mastra dev

[33mWARN[39m [2025-05-15 16:05:29.991 +0300] (BUNDLER - Dev): [36mTool path C:\Users\djosm\Desktop\aigile-bunderbot-master\src\mastra\tools does not exist, skipping...[39m
[32mINFO[39m [2025-05-15 16:05:30.099 +0300] (BUNDLER - Dev): [36mStarting watcher...[39m
[32mINFO[39m [2025-05-15 16:05:30.825 +0300] (BUNDLER - Dev): [36mBundling finished, starting server...[39m
[32mINFO[39m [2025-05-15 16:05:30.848 +0300] (Mastra CLI): [36m[Mastra Dev] - Starting server...[39m
Initializing TelegramAgent...
Setting up Telegram message handlers for TelegramAgent
Telegram agent initialized
Initializing EnhancedTelegramAgent...
Setting up enhanced message handlers
Enhanced Telegram agent initialized
Mastra initialized with Telegram agents (standard and enhanced)
[32mINFO[39m [2025-05-15 16:05:33.349 +0300] (Mastra): [36m Mastra API running on port http://localhost:4111/api[39m
[32mINFO[39m [2025-05-15 16:05:33.353 +0300] (Mastra): [36müîó Open API documentation available at http://localhost:4111/openapi.json[39m
[32mINFO[39m [2025-05-15 16:05:33.353 +0300] (Mastra): [36müß™ Swagger UI available at http://localhost:4111/swagger-ui[39m
[32mINFO[39m [2025-05-15 16:05:33.354 +0300] (Mastra): [36müë®‚Äçüíª Playground available at http://localhost:4111/[39m
Telegram bot initialized: bunderbotbotbot
Bot token (first 5 chars): 77785...
Telegram bot connected successfully: bunderbotbotbot
Enhanced Telegram agent connected successfully: bunderbotbotbot
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
[33mWARN[39m [2025-05-15 16:05:38.282 +0300] (STORAGE - LibSQLStore): [36mThe default storage is deprecated, please add any storage to Mastra itself.

In `src/mastra/index.ts` add:
Import { LibSQLStore } from `@mastra/libsql`.

export const mastra = new Mastra({
  // other config
  storage: new LibSQLStore({
    url: 'file:../mastra.db',
  }),
}
[39m
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
Received message in TelegramAgent: evet
Handling regular message for user telegram:8133358336: evet
Enhanced agent received message: "evet" from Chat ID: 8133358336
Debug: Received message from unknown (8133358336): evet
Message object properties: chatId=8133358336, messageId=30
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
Received message in TelegramAgent: tabiki
Handling regular message for user telegram:8133358336: tabiki
Enhanced agent received message: "tabiki" from Chat ID: 8133358336
Debug: Received message from unknown (8133358336): tabiki
Message object properties: chatId=8133358336, messageId=35
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
Telegram polling error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Full error stack: Error: ETELEGRAM: 409 Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\node-telegram-bot-api\src\telegram.js:316:15
    at tryCatcher (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\util.js:16:23)
    at Promise._settlePromiseFromHandler (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:547:31)
    at Promise._settlePromise (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:604:18)
    at Promise._settlePromise0 (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:649:10)
    at Promise._settlePromises (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\promise.js:729:18)
    at _drainQueueStep (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:93:12)
    at _drainQueue (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:86:9)
    at Async._drainQueues (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:102:5)
    at Async.drainQueues [as _onImmediate] (C:\Users\djosm\Desktop\aigile-bunderbot-master\node_modules\bluebird\js\release\async.js:15:14)
    at process.processImmediate (node:internal/timers:485:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)
^C^C